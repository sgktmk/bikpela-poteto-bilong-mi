---
template: post
title: 開発生産性についてのお勉強
slug: 2025/05/31/what-is-development-productivity
draft: false
date: 2025-05-31T12:00:00.000Z
description: 開発生産性についてのお勉強をしてみた。
category: programming
tags:
  - programming
  - productivity
---

## 開発生産性についての勉強をしようと思った理由

最近、新しいチームに異動となった。そのチームでの私の役目のうちの一つに『チームの開発生産性を上げる』というものがあり、
『開発生産性』を上げるためには『開発生産性』そのものについて知らねばならぬ、と思ったので勉強することにした。

o3 とかに聞いていい感じにまとめようかとも思ったけど、[以前の記事](https://www.sgktmk.com/blog/2025/05/18/delete-generative-ai-articles) でも書いたように AI はあくまで補助的に利用しようという心持ちで（今は）いるので、今まで通り素直に本を読んで勉強することにした。

## 読んだ本

- [エンジニア組織を強くする 開発生産性の教科書～事例から学ぶ、生産性向上への取り組み方～（佐藤将高, Findy Inc. 著）](https://gihyo.jp/book/2024/978-4-297-14249-0)
- [エンジニアリング組織論への招待 ～不確実性に向き合う思考と組織のリファクタリング～（広木大地 著）](https://gihyo.jp/book/2018/978-4-7741-9605-3)
- [Lean と DevOps の科学［Accelerate］ テクノロジーの戦略的活用が組織変革を加速する（Nicole Forsgren Ph.D 著/Gene Kim 著/Jez Humble 著/武舎 るみ 訳/武舎 広幸 訳）](https://book.impress.co.jp/books/1118101029)

## 開発生産性とは？

<<<<<<< ours

- 一般的に言われる労働生産性とは別の考え方。
- `労働生産性 = 付加価値額 / 従業員数` ではあるが、これでは **"エンジニア組織"** としての **"生産性"** は測れない。
- ソフトウェア企業の労働生産性は、「投資フェーズ」では低くなり、「回収フェーズ」では高くなるという逆転現象が起こる。
- そのため、労働生産性の考え方をそのまま開発生産性に当てはめることは出来ない。

### 開発生産性におけるインプットとアウトプット

- インプット
  - 開発に費やされた時間
  - 開発に投入された人的リソース
  - 開発に使用された予算
  - 開発に必要なインフラやツールのコスト
  - 開発チームの教育育成に投資された時間と予算
- アウトプット
  - リリースされた機能や修正の数
  - 開発されたコードの行数
  - 解決されたバグやイシューの数
  - 提供された価値（ユーザー満足度、売り上げへの貢献など）
  - 開発されたドキュメントの量と質

このように、一言にインプットとアウトプットといっても様々な種類が存在する。組織や開発チームの特性やプロジェクトの性質によっても、何をインプットとして、何をアウトプットとするかの定義が異なる場合がある。
インプットとアウトプットの定義を明確にできると、私たちのチームにおいて何を開発生産性と呼ぶのかを明確にできる。

### 開発生産性のレベル

- レベル 1: 仕事量の生産性
  - 特定の作業量をどれだけ効率的にこなせたか。純粋に作業量の観点から生産性を評価する。
- レベル 2: 期待付加価値の生産性
  - 仕事量に加えて、各施策がプロダクト事態にどれだけの価値をもたらすかを考慮する。
  - ただし、実際の価値を評価するのは時間がかかるため、「期待される価値がどの程度リリースできたか」に焦点を当てる。
- レベル 3: 実現付加価値の生産性
  - 売上や KPI など、実際のサービスに対する具体的な貢献を評価する段階。開発チームだけでなくカスタマーサクセスやセールス、マーケティングなど、組織全体で評価に取り組んでいく必要がある。

レベル１は開発チームだけでコントロールできるので取り組みやすく、成果につながりやすい。レベル 3 はチームを横断するので実現が困難。

### コンウェイの法則

> システムを設計する組織は、その構造をそっくりまねた構造の設計を生み出してしまう

- 組織構造 = コミュニケーションコストの構造 であるから、この法則が見出される。
  - 例えば：ある機能開発をおこなってリリースするために **3 つの別チームとの協議** が必要で、さらに上長から **4 つの稟議書へのハンコ** が必要な状況であったと仮定すると、コミュニケーションが高すぎてその領域への機能追加はあまり行いたくないという心理が発生する。
    - その結果、そういったコミュニケーションを回避できるような領域の機能開発を重点的にやるようになる。
- 組織構造、つまりコミュニケーションの構造が事業戦略と一致していれば、この現象はむしろ組織の情報処理能力を向上させることになる。そうでない場合は、知らずのうちに組織構造の問題がシステムに組み込まれていくような結果になる。
-

## 開発生産性を測るための指標

- Four Keys (別名：DORA メトリクス)
  - 下記 4 つの指標を計測する。
    1. デプロイ頻度：開発したプログラムが本番環境にリリースされる頻度。開発チームの効率性と、変更を迅速に提供する能力を測定する。
    - デプロイ頻度だけを見るのではなく、一回のデプロイでの変更量、デプロイ成功率などを併せて評価する必要がある。
    2. 変更のリードタイム：開発したプログラムが本番環境にリリースされるまでの時間。開発チームのアジリティを測定する。
    - 正確な測定のために、測定の開始点と終了点を明確にし、一貫した方法で測定を行うこと。
    3. 変更失敗率：本番環境へのリリース後に、障害などが発生する割合。開発チームのリリースプロセスの質を測定する。
    - 失敗の定義を明確にしておくこと。例えば、切り戻しが必要な障害なのか、運用で回避できる障害なのか、パフォーマンスのダウンも含むのか、全てなのか...。平均修復時間との調整も視野に入れる。
    4. 平均修復時間：システム障害が発生してから、サービスが復旧するまでの平均時間。開発チームの問題解決能力とシステムの回復力を測定する。
    - 変更失敗率と同様に、障害の定義と測定の開始点・終了点の定義を明確にする。また、『復旧』をいつの時点でみなすのか。切り戻し等により障害が一時的に収まったタイミングか、完全に元の状態に戻った時点か。
- プルリクエストの作成数
  - 別チームや他人同士での比較を行うのではなく、チームや個人の過去との比較を行うこと。
- 自動テストのコードカバレッジ
  - コードカバレッジ測定ツールやライブラリを用いて、自動テストがどの程度ソースコードを網羅しているか測定する。
  - コードカバレッジには以下の 4 段階ある。
    - C0: ステートメントカバレッジ - 各ステートメントが少なくとも一度は実行されたか
    - C1: ブランチカバレッジ - 各分岐が少なくとも一度は実行されたか
    - C2: パスカバレッジ - 各実行パスが少なくとも一度は実行されたか
    - MCC: Modified Condition / Decision Coverage - 各条件の全ての組み合わせが少なくとも一度は実行されたか
  - 単純にカバレッジ 100%のではなく、「バグを事前に検知して、守れるテストになっているか」を大事にすること。
- マージ時間
  - プルリクエストがオープンされてからマージされるまでの時間。
  - こんないいことがある。
    - マージ時間が短いほど、プルリクエストの総数が減って認知負荷が低くなる。
    - マージ時のコンフリクトの発生確率が低くなる。
- バリューストリーム指標
  - 開発プロセス全体を通して、顧客に提供する価値の流れを評価するための指標。開発プロセス全体の効率性と有効性を測定して、改善点を特定するために役に立つ。
  - これを測定するためには、バリューストリームマップ（VSM）を作成する。バリューストリームにおヶる各プロセスを書き出して、それぞれのプロセスにおける **リードタイム** と **プロセス時間**、**手戻り率** を記録する。
  - サイクルタイム（アイデアの着想、要望の提出から実際に顧客に価値が届くまでの時間を示す指標）
- SPACE フレームワーク
  - Nicole Forsgren 博士らが提唱した、開発者体験を評価するための指標
  - 「Satisfaction and well-being（満足度と幸福度）」「Performance（パフォーマンス）」「Activity（活動）」「Communication and collaboration（コミュニケーションとコラボレーション）」「Efficiency and flow（効率とフロー）」の頭文字をとったもの。
  - Satisfaction and well-being
    - 開発者のモチベーションとパフォーマンスに直結する、満足度と幸福度を測定する。
      - 定量的な数値だけでなく心理的安全性の向上や業務量の調整、柔軟な働き方の提供などの定性的な部分も重視する必要がある。
  - Performance
    - 前述の Four Keys と密接にかかわる。
  - Activity
    - 開発者個人の日々の活動を可視化して、チームの働き方や課題を把握できる。
  - Communication and collaboration
    - チームの一体感とパフォーマンスを高める指標。
    - 情報共有を気軽にしあえるような環境や状況を作りながら、相互にコミュニケーションを自発的に行える状態を目指す。
  - Efficiency and flow
    - 開発者がスムーズに作業を進められる環境かどうか。
    - この指標を改善するには、自動化の促進、ワークフローの最適化、集中阻害要因の排除などが重要。
- =======
  開発生産性は、一般的に言われる労働生産性とは少し異なる。  
  労働生産性は「付加価値額 ÷ 従業員数」という式で表されるが、これだとエンジニア組織としての生産性を適切に測れない。

その理由は、ソフトウェア企業の労働生産性って「投資フェーズ」では低くて、「回収フェーズ」では高くなるという逆転現象が起こるため。  
この特性があるから、労働生産性の考え方をそのまま開発生産性に当てはめることはできない。

### 開発生産性におけるインプットとアウトプット

開発生産性を考えるとき、インプットとアウトプットにはいろんな要素が含まれる。

インプットとしては

- 開発に費やされた時間
- 開発に投入された人的リソース
- 開発に使用された予算
- 開発に必要なインフラやツールのコスト
- 開発チームの教育育成に投資された時間と予算

アウトプットとしては

- リリースされた機能や修正の数
- 開発されたコードの行数
- 解決されたバグやイシューの数
- 提供された価値（ユーザー満足度、売り上げへの貢献など）
- 開発されたドキュメントの量と質

こんな感じで、一言にインプットとアウトプットといっても様々な種類が存在する。  
組織や開発チームの特性やプロジェクトの性質によっても、何をインプットとして、何をアウトプットとするかの定義が異なる場合がある。

インプットとアウトプットの定義を明確にできると、自分たちのチームにおいて何を開発生産性と呼ぶのかを明確にできる。

### 開発生産性のレベル

開発生産性は、以下の 3 つのレベルで考えることができる。

1. レベル 1: 仕事量の生産性

   - 特定の作業量をどれだけ効率的にこなせたか
   - 純粋に作業量の観点から生産性を評価する

2. レベル 2: 期待付加価値の生産性

   - 仕事量に加えて、各施策がプロダクト自体にどれだけの価値をもたらすかを考慮
   - ただし、実際の価値を評価するのは時間がかかるので、「期待される価値がどの程度リリースできたか」に焦点を当てる

3. レベル 3: 実現付加価値の生産性
   - 売上や KPI など、実際のサービスに対する具体的な貢献を評価
   - 開発チームだけでなくカスタマーサクセスやセールス、マーケティングなど、組織全体で評価に取り組んでいく必要がある

レベル 1 は開発チームだけでコントロールできるので取り組みやすく、成果につながりやすい特徴がある。一方、レベル 3 はチームを横断するので実現が困難になる。

## 開発生産性を測るための指標

開発生産性を測定するための主要な指標として、以下のようなものがある。

### Four Keys（DORA メトリクス）

Four Keys は、以下の 4 つの指標を計測する。

1. デプロイ頻度

   - 開発したプログラムが本番環境にリリースされる頻度
   - 開発チームの効率性と、変更を迅速に提供する能力を測定
   - ただし、デプロイ頻度だけを見るのではなく、一回のデプロイでの変更量、デプロイ成功率なども併せて評価する必要がある

2. 変更のリードタイム

   - 開発したプログラムが本番環境にリリースされるまでの時間
   - 開発チームのアジリティを測定
   - 正確な測定のために、測定の開始点と終了点を明確にし、一貫した方法で測定を行うことが重要

3. 変更失敗率

   - 本番環境へのリリース後に、障害などが発生する割合
   - 開発チームのリリースプロセスの質を測定
   - 失敗の定義を明確にしておく必要がある。例えば、切り戻しが必要な障害なのか、運用で回避できる障害なのか、パフォーマンスのダウンも含むのかなど。平均修復時間との調整も視野に入れる必要がある

4. 平均修復時間
   - システム障害が発生してから、サービスが復旧するまでの平均時間
   - 開発チームの問題解決能力とシステムの回復力を測定
   - 変更失敗率と同様に、障害の定義と測定の開始点・終了点の定義を明確にする必要がある。また、「復旧」をいつの時点でみなすのかも重要。切り戻し等により障害が一時的に収まったタイミングか、完全に元の状態に戻った時点かという判断が必要

### その他の重要な指標

#### プルリクエストの作成数

プルリクエストの作成数を指標とする場合、別チームや他人同士での比較を行うのではなく、チームや個人の過去との比較を行うことが重要。

#### 自動テストのコードカバレッジ

コードカバレッジ測定ツールやライブラリを用いて、自動テストがどの程度ソースコードを網羅しているかを測定する。

コードカバレッジには以下の 4 段階がある。

- C0: ステートメントカバレッジ - 各ステートメントが少なくとも一度は実行されたか
- C1: ブランチカバレッジ - 各分岐が少なくとも一度は実行されたか
- C2: パスカバレッジ - 各実行パスが少なくとも一度は実行されたか
- MCC: Modified Condition / Decision Coverage - 各条件の全ての組み合わせが少なくとも一度は実行されたか

ただし、単純にカバレッジ 100%を目指すのではなく、「バグを事前に検知して、守れるテストになっているか」を重視することが重要。

#### マージ時間

プルリクエストがオープンされてからマージされるまでの時間を測定する。マージ時間が短いほど、プルリクエストの総数が減って認知負荷が低くなり、マージ時のコンフリクトの発生確率も低くなる。

#### バリューストリーム指標

開発プロセス全体を通して、顧客に提供する価値の流れを評価するための指標。開発プロセス全体の効率性と有効性を測定して、改善点を特定するために役立つ。これを測定するためには、バリューストリームマップ（VSM）を作成し、バリューストリームにおける各プロセスのリードタイム、プロセス時間、手戻り率を記録する。  
また、サイクルタイム（アイデアの着想、要望の提出から実際に顧客に価値が届くまでの時間）も重要な指標となる。

#### SPACE フレームワーク

Nicole Forsgren 博士らが提唱した、開発者体験を評価するための指標。  
「Satisfaction and well-being（満足度と幸福度）」「Performance（パフォーマンス）」「Activity（活動）」「Communication and collaboration（コミュニケーションとコラボレーション）」「Efficiency and flow（効率とフロー）」の頭文字をとったもの。

各要素の詳細は以下の通り。

- Satisfaction and well-being

  - 開発者のモチベーションとパフォーマンスに直結する、満足度と幸福度を測定
  - 定量的な数値だけでなく心理的安全性の向上や業務量の調整、柔軟な働き方の提供などの定性的な部分も重視する必要がある

- Performance

  - 前述の Four Keys と密接にかかわる

- Activity

  - 開発者個人の日々の活動を可視化して、チームの働き方や課題を把握できる

- Communication and collaboration

  - チームの一体感とパフォーマンスを高める指標
  - 情報共有を気軽にしあえるような環境や状況を作りながら、相互にコミュニケーションを自発的に行える状態を目指す

- Efficiency and flow
  - 開発者がスムーズに作業を進められる環境かどうかを評価
  - この指標を改善するには、自動化の促進、ワークフローの最適化、集中阻害要因の排除などが重要
